<main>
	<form method="post" id="editDeviceGoal-form">
		<div class="vertical-container">
		<h2 class="title">Edit Goals</h2>
		<h3>{{this.currentDeviceName}}</h3>

		
		<label for="devGoals">New Device Goals</label>
		<br>
		<br>
		<form id="myForm">
			{{#each goals}}
				<input type="checkbox" class="deviceGoals" name="deviceGoals" value="{{this}}">{{this}}
				<br>
			{{/each}}
			<br>
			<br>
			<a href="/goals" id="link">Learn More About Device Goals</a>
			<br>
			<br>
			<button type="submit"  class="register-button">Submit</button>
		</form>
		<script>
			document.getElementById('myForm').addEventListener('submit', function(e) {
				var checkboxes = document.querySelectorAll('input.deviceGoals:checked');
				if (checkboxes.length === 0) {
					e.preventDefault();
					alert('Please select at least one goal.');
				}
			});
		</script>
		{{#if error}}
			<p class="error">{{message}}</p>
		{{/if}}
		{{!-- <select name="deviceGoals" id="deviceGoals" multiple required>
			<option value="Test 0">Test 0</option>
			{{#each goals}}
				<option>{{this}}</option>
			{{/each}}
		</select> --}}
		<br />
		<br>
		{{#if error}}
			<p class="error">{{message}}</p>
		{{/if}}

		<br />
		</br>
		</br>
		{{!-- <button type="submit" class="button">Submit</button> --}}
		<br>
		<br>
		<br>
		<a href="/dashboard" class="button">Back</a>
		</div>
	</form>
</main>